[[extend 'layout.html']]
<style>
  [v-cloak] {
       display: none;
  }
</style>


<div class="section" id="vue-target" v-cloak>
    <div class="columns is-fullheight is-narrow-mobile">
        
        <!--navigation-->
        <aside class="main-content column is-2 is-narrow-mobile is-fullheight is-mobile">
          <ul class="menu-list">
            <!--Home-->
            <li>
              <a href="[[=URL('index')]]" class="">
                <span class="icon"><i class="fa fa-home"></i></span> Home
              </a>
            </li>
            <!--Schedule-->
            <li>
              <a href="[[=URL('dashboard')]]" class="">
                <span class="icon"><i class="fa fa-calendar"></i></span> Schedule
              </a>
            </li>
            <!--Find a session-->
            <li>
              <a href="[[=URL('find_session')]]" class="">
                <span class="icon"><i class="fa fa-search"></i></span> Find Session
              </a>
            </li>
            <!--Create a session-->
            <li>
              <a href="[[=URL('create_session_results')]]" class="is-active">
                <span class="icon"><i class="fa fa-calendar-plus-o"></i></span> Create Session
              </a>
            </li>
          </ul> 
        </aside>
        <!--------------->


        <div class="column create_session">
            <!-- title -->
            <div class="block">
            <div class="title has-text-weight-light is-mobile">My Sessions</div>
            </div>
        
            <!-- add new entry -->
            <div class="block">
              <a class="button is-link is-outlined" href="[[=URL('create_session')]]">
                  <span class="icon"><i class="fa fa-plus"></i></span>
                  <span>Create New Session</span>
              </a>
            </div>
        
            <!-- table -->
            <div class="block">
                <table class="table is-fullwidth">
                    <thead>
                        <tr>
                            <th><div class="has-text-weight-bold">Session Name</div></th>
                            <th><div class="has-text-weight-bold">School</div></th>
                            <th><div class="has-text-weight-bold">Term</div></th>
                            <th><div class="has-text-weight-bold">Class Name</div></th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
            
                    <tbody v-for="r in session_list">
                        <tr>
                          <td><a :href=r.info_url>{{r.session_name}}</a></td>
                          <td>{{r.school}}</td>
                          <td>{{r.term}}</td>
                          <td>{{r.class_name}}</td>
                          <td>
                            <a v-if="r.add_edit_status" class="button is-success is-outlined is-light"  :href="r.edit">
                              Edit
                            </a>
                            <a v-if="r.remove_delete_status" class="button is-danger is-outlined is-light" :href="r.delete">
                              Delete
                            </a>
                            <a v-else="r.remove_delete_status" class="button is-danger is-outlined is-light">
                              Remove
                            </a>
                          </td>
                          <td>
                            <!-- <a :href="r.calendar">Add to Google Calendar</a> -->
                            <!-- <a href="http://www.google.com/calendar/render?
                                action=TEMPLATE
                                &text=r.session_name
                                &dates=20220305T103000/20220305T103000
                                &details=r.description
                                &location=r.location">Add to my calendar</a> -->
                          </td>
                        </tr>
                        [[pass]]
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let my_callback_url = "[[=XML(my_callback_url)]]";
  let get_session_list_url = "[[=XML(get_session_list_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]
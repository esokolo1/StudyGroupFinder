[[extend 'layout.html']]
<style>
  [v-cloak] {
       display: none;
  }
</style>


<div class="section" id="vue-target" v-cloak>
    <div class="columns is-fullheight is-narrow-mobile">
        <!--navigation-->
        <aside class="main-content column is-2 is-narrow-mobile is-fullheight is-mobile">
          <ul class="menu-list">
            <!--Home-->
            <li>
              <a href="[[=URL('index')]]" class="">
                <span class="icon"><i class="fa fa-home"></i></span> Home
              </a>
            </li>
            <!--Schedule-->
            <li>
              <a href="[[=URL('dashboard')]]" class="is-active">
                <span class="icon"><i class="fa fa-calendar" aria-hidden="true"></i></span> Schedule
              </a>
            </li>
            <!--Find a session-->
            <li>
              <a href="[[=URL('find_session')]]" class="">
                <span class="icon"><i class="fa fa-search"></i></span> Find Session
              </a>
            </li>
            <!--Create a session-->
            <li>
              <a href="[[=URL('create_session_results')]]" class="">
                <span class="icon"><i class="fa fa-calendar-plus-o"></i></span> Create Session
              </a>
            </li>
          </ul> 
        </aside>
        <!--------------->
        <div class="container is-flex is-mobile">
          <!-- title -->
            <div class="column is-three-fifths is-vcentered is-mobile">
              <div class="block">
                <div class="title has-text-weight-light is-mobile">Study Group Sessions Schedule</div>
              </div>
              <div class="is-flex">
                <div class="title is-5" >{{month_name}} {{year}}</div>
                <a><span class="icon is-middle" @click="prevCal(month, year)"><i class="fa fa-angle-left"></i></span></a>
                <a><span class="icon is-middle" @click="nextCal(month, year)" ><i class="fa fa-angle-right"></i></span></a>
              </div>
 
              <table class="table" cellpadding="0" cellspacing="0">                                           
                <tr><th colspan="7" class="month"></th></tr>                                                     
                <tr>
                  <th class="sun">Sun</th>
                  <th class="mon">Mon</th>
                  <th class="tue">Tue</th>
                  <th class="wed">Wed</th>
                  <th class="thu">Thu</th>
                  <th class="fri">Fri</th>
                  <th class="sat">Sat</th>
                </tr> 
                <tr v-for="line in weeks1">
                  <td class="is-clickable" v-for="cell in line" @click="getEvents(month, cell, year)">
                    <a color="is-link">{{cell}}</a>
                  </td>
                </tr>
              </table>
            </div>
            <div class="column is-mobile" v-if="is_clicked">
              <div class="card">
                <span><i class="fa fa-times is-pulled-right" @click="closeEvents"></i></span>
                <div class="card-content">
                  Schedule
                  <br>
                  {{month_name}} {{date[0]}} {{year}} 
                  <br>
                  <div class="card-content" v-for="s in upcoming_sessions">
                    {{s.starttime}}
                    {{s.session_name}}
                  </div>
                </div>
                

              </div>
                
            </div>
        </div>
    </div>
</div>



[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let get_session_list_url = "[[=XML(get_session_list_url)]]";
  let calendar_url = "[[=XML(calendar_url)]]";
  let events_url = "[[=XML(events_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]
    